window.APP_DRT=window.APP_DRT||{},window.APP_DRT.htmlbox=window.APP_DRT.htmlbox||{},window.APP_DRT.htmlbox=function(){"use strict";function t(){var e=null;return null!==window.screen&&(e=window.screen.availWidth),null!==window.innerWidth&&(e=window.innerWidth),null!==document.body&&(e=document.body.clientWidth),e}function o(){return t()<768}function r(){var e=t();return 768<=e&&e<1025}function a(){function g(e,n,i){"addEventListener"in window?e.addEventListener(n,i,!1):"attachEvent"in window&&e.attachEvent("on"+n,i)}function w(e,n,i){"removeEventListener"in window?e.removeEventListener(n,i,!1):"detachEvent"in window&&e.detachEvent("on"+n,i)}function i(e){return N[e]?N[e].log:f}function h(e,n){t("log",e,n,i(e))}function b(e,n){t("info",e,n,i(e))}function p(e,n){t("warn",e,n,!0)}function t(e,n,i,t){!0===t&&"object"==typeof window.console&&console[e](E+"["+(e="Host page: "+(n=e=n),window.top!==window.self&&(e=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+n:"Nested host page: "+n),e)+"]",i)}function e(n){function t(){e("Height"),e("Width"),R(function(){M(f),F(m),u("resizedCallback",f)},f,"init")}function e(e){var n=Number(N[m]["max"+e]),i=Number(N[m]["min"+e]),t=e.toLowerCase(),e=Number(f[t]);h(m,"Checking "+t+" is in range "+i+"-"+n),e<i&&(e=i,h(m,"Set "+t+" to min value")),n<e&&(e=n,h(m,"Set "+t+" to max value")),f[t]=""+e}function a(e){return r.substr(r.indexOf(":")+C+e)}function s(i,t){var e,n,o;e=function(){var e,n;T("Send Page Info","pageInfo:"+(e=document.body.getBoundingClientRect(),n=f.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:n.height,iframeWidth:n.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(n.top-e.top,10),offsetLeft:parseInt(n.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})),i,t)},n=32,S[o=t]||(S[o]=setTimeout(function(){S[o]=null,e()},n))}function d(e){e=e.getBoundingClientRect();return k(m),{x:Math.floor(Number(e.left)+Number(P.x)),y:Math.floor(Number(e.top)+Number(P.y))}}function l(e){var n=e?d(f.iframe):{x:0,y:0},i={x:Number(f.width)+n.x,y:Number(f.height)+n.y};h(m,"Reposition requested from iFrame (offset x:"+n.x+" y:"+n.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](i.x,i.y):p(m,"Unable to scroll to requested position, window.parentIFrame not found"):(P=i,c(),h(m,"--"))}function c(){!1!==u("scrollCallback",P)?F(m):x()}function u(e,n){return y(m,e,n)}var i,o,r=n.data,f={},m=null;"[iFrameResizerChild]Ready"===r?function(){for(var e in N)T("iFrame requested init",z(e),document.getElementById(e),e)}():E===(""+r).substr(0,O)&&r.substr(O).split(":")[0]in N?(o=r.substr(O).split(":"),f={iframe:N[o[0]]&&N[o[0]].iframe,id:o[0],height:o[1],width:o[2],type:o[3]},m=f.id,N[m]&&(N[m].loaded=!0),(o=f.type in{true:1,false:1,undefined:1})&&h(m,"Ignoring init message from meta parent page"),!o&&(i=!0,N[m]||(i=!1,p(f.type+" No settings for "+m+". Message was: "+r)),i)&&(h(m,"Received: "+r),i=!0,null===f.iframe&&(p(m,"IFrame ("+f.id+") not found"),i=!1),i&&function(){var e,i=n.origin,t=N[m]&&N[m].checkOrigin;if(t&&""+i!="null"&&!(t.constructor===Array?function(){var e=0,n=!1;for(h(m,"Checking connection is from allowed list of origins: "+t);e<t.length;e++)if(t[e]===i){n=!0;break}return n}():(e=N[m]&&N[m].remoteHost,h(m,"Checking connection is from: "+e),i===e)))throw new Error("Unexpected message received from: "+i+" for "+f.iframe.id+". Message was: "+n.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return 1}()&&function(){switch(N[m]&&N[m].firstRun&&N[m]&&(N[m].firstRun=!1),f.type){case"close":N[m].closeRequestCallback?y(m,"closeRequestCallback",N[m].iframe):v(f.iframe);break;case"message":n=a(6),h(m,"MessageCallback passed: {iframe: "+f.iframe.id+", message: "+n+"}"),u("messageCallback",{iframe:f.iframe,message:JSON.parse(n)}),h(m,"--");break;case"scrollTo":l(!1);break;case"scrollToOffset":l(!0);break;case"pageInfo":s(N[m]&&N[m].iframe,m),o=m,i("Add ",g),N[o]&&(N[o].stopPageInfo=r);break;case"pageInfoStop":N[m]&&N[m].stopPageInfo&&(N[m].stopPageInfo(),delete N[m].stopPageInfo);break;case"inPageLink":e=a(9).split("#")[1]||"",n=decodeURIComponent(e),(n=document.getElementById(n)||document.getElementsByName(n)[0])?(n=d(n),h(m,"Moving to in page link (#"+e+") at x: "+n.x+" y: "+n.y),P={x:n.x,y:n.y},c(),h(m,"--")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(e):h(m,"In page link #"+e+" not found and window.parentIFrame not found"):h(m,"In page link #"+e+" not found");break;case"reset":I(f);break;case"init":t(),u("initCallback",f.iframe);break;default:t()}var e,o,n;function i(n,i){function t(){N[o]?s(N[o].iframe,o):r()}["scroll","resize"].forEach(function(e){h(o,n+e+" listener for sendPageInfo"),i(window,e,t)})}function r(){i("Remove ",w)}}())):b(m,"Ignored: "+r)}function y(e,n,i){var t=null,o=null;if(N[e]){if("function"!=typeof(t=N[e][n]))throw new TypeError(n+" on iFrame["+e+"] is not a function");o=t(i)}return o}function v(e){var n=e.id;h(n,"Removing iFrame: "+n),e.parentNode&&e.parentNode.removeChild(e),y(n,"closedCallback",n),h(n,"--"),delete N[n]}function k(e){null===P&&h(e,"Get page position: "+(P={x:window.pageXOffset!==c?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==c?window.pageYOffset:document.documentElement.scrollTop}).x+","+P.y)}function F(e){null!==P&&(window.scrollTo(P.x,P.y),h(e,"Set page position: "+P.x+","+P.y),x())}function x(){P=null}function I(e){h(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),k(e.id),R(function(){M(e),T("reset","reset",e.iframe,e.id)},e,"reset")}function M(o){function i(e){function n(){for(var e in N)!function(n){function e(e){return"0px"===(N[n]&&N[n].iframe.style[e])}N[n]&&null!==N[n].iframe.offsetParent&&(e("height")||e("width"))&&T("Visibility change","resize",N[n].iframe,n)}(e)}function i(e){h("window","Mutation observed: "+e[0].target+" "+e[0].type),a(n,16)}var t;l||"0"!==o[e]||(l=!0,h(r,"Hidden iFrame detected, creating visibility listener"),(t=window.MutationObserver||window.WebKitMutationObserver)&&(e=document.querySelector("body"),new t(i).observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})))}function e(e){var n;n=e,o.iframe.style[n]=o[n]+"px",h(o.id,"IFrame ("+r+") "+n+" set to "+o[n]+"px"),i(e)}var r=o.iframe.id;N[r]&&(N[r].sizeHeight&&e("height"),N[r].sizeWidth&&e("width"))}function R(e,n,i){i!==n.type&&m?(h(n.id,"Requesting animation frame"),m(e)):e()}function T(e,n,i,t,o){var r,a=!1;t=t||i.id,N[t]&&(i&&"contentWindow"in i&&null!==i.contentWindow?(r=N[t]&&N[t].targetOrigin,h(t,"["+e+"] Sending msg to iframe["+t+"] ("+n+") targetOrigin: "+r),i.contentWindow.postMessage(E+n,r)):p(t,"["+e+"] IFrame("+t+") not found"),o&&N[t]&&N[t].warningTimeout&&(N[t].msgTimeout=setTimeout(function(){!N[t]||N[t].loaded||a||(a=!0,p(t,"IFrame has not responded within "+N[t].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))},N[t].warningTimeout)))}function z(e){return e+":"+N[e].bodyMarginV1+":"+N[e].sizeWidth+":"+N[e].log+":"+N[e].interval+":"+N[e].enablePublicMethods+":"+N[e].autoResize+":"+N[e].bodyMargin+":"+N[e].heightCalculationMethod+":"+N[e].bodyBackground+":"+N[e].bodyPadding+":"+N[e].tolerance+":"+N[e].inPageLinks+":"+N[e].resizeFrom+":"+N[e].widthCalculationMethod}function o(i,e){var n,t,o,r,a,s=(n=i.id,""===n&&(i.id=(t=e&&e.id||H.id+u++,null!==document.getElementById(t)&&(t+=u++),n=t),f=(e||{}).log,h(n,"Added missing iframe ID: "+n+" ("+i.src+")")),n);function d(e){1/0!==N[s][e]&&0!==N[s][e]&&(i.style[e]=N[s][e]+"px",h(s,"Set "+e+" = "+N[s][e]+"px"))}function l(e){if(N[s]["min"+e]>N[s]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}s in N&&"iFrameResizer"in i?p(s,"Ignored iFrame, already setup."):(r=(r=e)||{},N[s]={firstRun:!0,iframe:i,remoteHost:i.src.split("/").slice(0,3).join("/")},function(){if("object"!=typeof r)throw new TypeError("Options is not an object")}(),function(e){for(var n in H)H.hasOwnProperty(n)&&(N[s][n]=(e.hasOwnProperty(n)?e:H)[n])}(r),N[s]&&(N[s].targetOrigin=!0===N[s].checkOrigin?""===(a=N[s].remoteHost)||"file://"===a?"*":a:"*"),function(){switch(h(s,"IFrame scrolling "+(N[s]&&N[s].scrolling?"enabled":"disabled")+" for "+s),i.style.overflow=!1===(N[s]&&N[s].scrolling)?"hidden":"auto",N[s]&&N[s].scrolling){case!0:i.scrolling="yes";break;case!1:i.scrolling="no";break;default:i.scrolling=N[s]?N[s].scrolling:"no"}}(),l("Height"),l("Width"),d("maxHeight"),d("minHeight"),d("maxWidth"),d("minWidth"),"number"!=typeof(N[s]&&N[s].bodyMargin)&&"0"!==(N[s]&&N[s].bodyMargin)||(N[s].bodyMarginV1=N[s].bodyMargin,N[s].bodyMargin=N[s].bodyMargin+"px"),o=z(s),g(i,"load",function(){var e,n;T("iFrame.onload",o,i,c,!0),e=N[s]&&N[s].firstRun,n=N[s]&&N[s].heightCalculationMethod in W,!e&&n&&I({iframe:i,height:0,width:0,type:"init"})}),T("init",o,i,c,!0),Function.prototype.bind&&N[s]&&(N[s].iframe.iFrameResizer={close:v.bind(null,N[s].iframe),resize:T.bind(null,"Window resize","resize",N[s].iframe),moveToAnchor:function(e){T("Move to anchor","moveToAnchor:"+e,N[s].iframe,s)},sendMessage:function(e){T("Send Message","message:"+(e=JSON.stringify(e)),N[s].iframe,s)}}))}function a(e,n){null===A&&(A=setTimeout(function(){A=null,e()},n))}function n(e){h("window","Trigger event: "+e),a(function(){s("Window "+e,"resize")},16)}function r(){"hidden"!==document.visibilityState&&(h("document","Trigger event: Visiblity change"),a(function(){s("Tab Visable","resize")},16))}function s(e,n){for(var i in N)t=i,N[t]&&"parent"===N[t].resizeFrom&&N[t].autoResize&&!N[t].firstRun&&T(e,n,document.getElementById(i),i);var t}function d(){function i(e,n){n&&(function(){if(!n.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==n.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+n.tagName+">")}(),o(n,e),t.push(n))}var t;return function(){for(var e=["moz","webkit","o","ms"],n=0;n<e.length&&!m;n+=1)m=window[e[n]+"RequestAnimationFrame"];m||h("setup","RequestAnimationFrame not supported")}(),g(window,"message",e),g(window,"resize",function(){n("resize")}),g(document,"visibilitychange",r),g(document,"-webkit-visibilitychange",r),g(window,"focusin",function(){n("focus")}),g(window,"focus",function(){n("focus")}),function(e,n){switch(t=[],e&&e.enablePublicMethods&&p("enablePublicMethods option has been removed, public methods are now always available in the iFrame"),typeof n){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(n||"iframe"),i.bind(c,e));break;case"object":i(e,n);break;default:throw new TypeError("Unexpected data type ("+typeof n+")")}return t}}var c,u,f,l,C,E,O,P,m,W,N,A,H,S,D;"undefined"!=typeof window&&(C="message".length,O=(E="[iFrameSizer]").length,m=window.requestAnimationFrame,H={autoResize:!(A=P=null),bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!(l=f=!1),inPageLinks:!"Host Page",enablePublicMethods:!(u=0),heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!(N={}),maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!(W={max:1,scroll:1,bodyScroll:1,documentElementScroll:1}),sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){p("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}},S={},window.jQuery&&((D=window.jQuery).fn?D.fn.iFrameResize||(D.fn.iFrameResize=function(i){return this.filter("iframe").each(function(e,n){o(n,i)}).end()}):b("","Unable to bind to jQuery, it is not fully loaded.")),"function"==typeof define&&define.amd?define([],d):"object"==typeof module&&"object"==typeof module.exports?module.exports=d():window.iFrameResize=window.iFrameResize||d())}function n(e){try{window.iFrameResize||a();var n=document.createElement("iframe");n.width=e.width||"100%",n.scrolling="no",n.frameBorder=0,n.allow="allow-popups,allow-scripts,allow-top-navigation,allow-top-navigation-by-user-activation",o()&&e.heightMobile?n.height=e.heightMobile:r()&&e.heightTablet?n.height=e.heightTablet:1025<=t()&&e.heightDesktop?n.height=e.heightDesktop:n.height=e.height||50,e.src?n.src=e.src:e.html?(i='<body style="margin:0;padding:0;">'+e.html+"</body>",n.src="data:text/html;charset=utf-8,"+encodeURI(i)):o()&&e.srcMobile?n.src=e.srcMobile:r()&&e.srcTablet?n.src=e.srcTablet:e.srcDesktop&&(n.src=e.srcDesktop);var i=document.getElementById(e.boxId);i&&(i.style.display="block",i.appendChild(n)),e.html||e.disableAutoHeight||iFrameResize({},n)}catch(e){console.log(e)}}return{load:function(e){setTimeout(function(){n(e)},5)}}}();